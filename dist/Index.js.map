{"version":3,"sources":["../src/ContextMenu.ts","../src/Index.ts"],"names":["ContextMenu","target","menuItems","mode","nodes","data","index","item","button","key","value","menuContainer","menu","contextMenu","e","clientX","clientY","positionY","positionX","styles","injectStyles","styleElement","Index_default"],"mappings":"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","file":"Index.js","sourcesContent":["type MenuItemEventMap = {\r\n    [key: string]: (event: MouseEvent) => void;\r\n  };\r\n  \r\n  interface MenuItem {\r\n    content: string;\r\n    divider?: \"top\" | \"bottom\" | \"top-bottom\";\r\n    events?: MenuItemEventMap;\r\n  }\r\n  \r\n  interface ContextMenuOptions {\r\n    target: string;\r\n    menuItems: MenuItem[];\r\n    mode?: \"dark\" | \"light\";\r\n  }\r\n  \r\n  export default class ContextMenu {\r\n    private target: string;\r\n    private menuItems: MenuItem[];\r\n    private mode: \"dark\" | \"light\";\r\n    private targetNode: NodeListOf<Element>;\r\n    private menuItemsNode: HTMLLIElement[];\r\n    private isOpened: boolean;\r\n  \r\n    constructor({ target, menuItems, mode = \"dark\" }: ContextMenuOptions) {\r\n      this.target = target;\r\n      this.menuItems = menuItems;\r\n      this.mode = mode;\r\n      this.targetNode = this.getTargetNode();\r\n      this.menuItemsNode = this.getMenuItemsNode();\r\n      this.isOpened = false;\r\n    }\r\n  \r\n    private getTargetNode(): NodeListOf<Element> {\r\n      const nodes = document.querySelectorAll(this.target);\r\n  \r\n      if (nodes.length !== 0) {\r\n        return nodes;\r\n      } else {\r\n        console.error(`getTargetNode :: \"${this.target}\" target not found`);\r\n        return document.querySelectorAll(\"\"); // Devuelve un NodeList vacío\r\n      }\r\n    }\r\n  \r\n    private getMenuItemsNode(): HTMLLIElement[] {\r\n      const nodes: HTMLLIElement[] = [];\r\n  \r\n      if (!this.menuItems) {\r\n        console.error(\"getMenuItemsNode :: Please enter menu items\");\r\n        return nodes;\r\n      }\r\n  \r\n      this.menuItems.forEach((data, index) => {\r\n        const item = this.createItemMarkup(data);\r\n        (item.firstChild as HTMLElement)?.setAttribute(\"style\", `animation-delay: ${index * 0.08}s`);\r\n\r\n        nodes.push(item);\r\n      });\r\n  \r\n      return nodes;\r\n    }\r\n  \r\n    private createItemMarkup(data: MenuItem): HTMLLIElement {\r\n      const button = document.createElement(\"BUTTON\") as HTMLButtonElement;\r\n      const item = document.createElement(\"LI\") as HTMLLIElement;\r\n  \r\n      button.innerHTML = data.content;\r\n      button.classList.add(\"contextMenu-button\");\r\n      item.classList.add(\"contextMenu-item\");\r\n  \r\n      if (data.divider) item.setAttribute(\"data-divider\", data.divider);\r\n      item.appendChild(button);\r\n  \r\n      if (data.events) {\r\n        Object.entries(data.events).forEach(([key, value]) => {\r\n            button.addEventListener(key as keyof HTMLElementEventMap, value as EventListener);\r\n          });\r\n          \r\n      }\r\n  \r\n      return item;\r\n    }\r\n  \r\n    private renderMenu(): HTMLUListElement {\r\n      const menuContainer = document.createElement(\"UL\") as HTMLUListElement;\r\n  \r\n      menuContainer.classList.add(\"contextMenu\");\r\n      menuContainer.setAttribute(\"data-theme\", this.mode);\r\n  \r\n      this.menuItemsNode.forEach((item) => menuContainer.appendChild(item));\r\n  \r\n      return menuContainer;\r\n    }\r\n  \r\n    private closeMenu(menu: HTMLUListElement): void {\r\n      if (this.isOpened) {\r\n        this.isOpened = false;\r\n        menu.remove();\r\n      }\r\n    }\r\n  \r\n    public init(): void {\r\n    const contextMenu = this.renderMenu();\r\n    document.addEventListener(\"click\", () => this.closeMenu(contextMenu));\r\n    window.addEventListener(\"blur\", () => this.closeMenu(contextMenu));\r\n    document.addEventListener(\"contextmenu\", (e: MouseEvent) => {\r\n      this.targetNode.forEach((target) => {\r\n        if (!e.target || !target.contains(e.target as Node)) {\r\n          contextMenu.remove();\r\n        }\r\n      });\r\n    });\r\n\r\n    this.targetNode.forEach((target) => {\r\n        target.addEventListener(\"contextmenu\", (e: Event) => {\r\n          e.preventDefault();\r\n          this.isOpened = true;\r\n      \r\n          const { clientX, clientY } = e as MouseEvent;\r\n          document.body.appendChild(contextMenu);\r\n\r\n        const positionY =\r\n          clientY + contextMenu.scrollHeight >= window.innerHeight\r\n            ? window.innerHeight - contextMenu.scrollHeight - 20\r\n            : clientY;\r\n        const positionX =\r\n          clientX + contextMenu.scrollWidth >= window.innerWidth\r\n            ? window.innerWidth - contextMenu.scrollWidth - 20\r\n            : clientX;\r\n\r\n        contextMenu.setAttribute(\r\n          \"style\",\r\n          `--width: ${contextMenu.scrollWidth}px;\r\n           --height: ${contextMenu.scrollHeight}px;\r\n           --top: ${positionY}px;\r\n           --left: ${positionX}px;`\r\n        );\r\n      });\r\n    });\r\n  }\r\n  }\r\n  ","\r\n// import './Index.css';\r\n\r\nimport ContextMenu from \"./ContextMenu\";\r\n\r\n// Importamos el CSS como una cadena\r\nconst styles = `@import url(\"https://fonts.googleapis.com/css2?family=Inter&display=swap\");\r\n * {\r\n\t box-sizing: border-box;\r\n\t font-family: \"Inter\", sans-serif;\r\n}\r\n html, body {\r\n\t width: 100%;\r\n\t height: 100%;\r\n\t overflow: hidden;\r\n}\r\n .target {\r\n\t width: 50%;\r\n\t height: 100%;\r\n\t position: absolute;\r\n\t top: 0;\r\n\t z-index: 1;\r\n\t display: flex;\r\n\t align-items: center;\r\n\t justify-content: center;\r\n\t color: rgba(255, 255, 255, 0.5);\r\n\t font-size: 2vw;\r\n}\r\n .target-light {\r\n\t left: 0;\r\n}\r\n .target-dark {\r\n\t right: 0;\r\n}\r\n body {\r\n\t width: 100%;\r\n\t height: 100%;\r\n\t background-color: #000;\r\n\t overflow: hidden;\r\n}\r\n .right-click {\r\n\t position: absolute;\r\n\t top: 50%;\r\n\t left: 50%;\r\n\t transform: translate(-50%, -50%);\r\n\t z-index: 2;\r\n\t pointer-events: none;\r\n\t padding: 2vw;\r\n\t border-radius: 1vw;\r\n\t font-size: 2.4vw;\r\n\t background-color: #fff;\r\n}\r\n/* Context Menu */\r\n .contextMenu {\r\n\t --menu-border: rgba(255, 255, 255, 0.08);\r\n\t --menu-bg: linear-gradient(45deg, rgba(10, 20, 28, 0.2) 0%, rgba(10, 20, 28, 0.7) 100%);\r\n\t --item-border: rgba(255, 255, 255, 0.1);\r\n\t --item-color: #fff;\r\n\t --item-bg-hover: rgba(255, 255, 255, 0.1);\r\n\t height: 0;\r\n\t overflow: hidden;\r\n\t background: var(--menu-bg);\r\n\t backdrop-filter: blur(5px);\r\n\t position: fixed;\r\n\t top: var(--top);\r\n\t left: var(--left);\r\n\t animation: menuAnimation 0.4s 0s both;\r\n\t transform-origin: left;\r\n\t list-style: none;\r\n\t margin: 4px;\r\n\t padding: 0;\r\n\t display: flex;\r\n\t flex-direction: column;\r\n\t z-index: 999999999;\r\n\t box-shadow: 0 0 0 1px var(--menu-border), 0 2px 2px #000, 0 4px 4px #000, 0 10px 8px #000, 0 15px 15px #000, 0 30px 30px #000, 0 70px 65px #000;\r\n}\r\n .contextMenu-item {\r\n\t padding: 4px;\r\n}\r\n .contextMenu-item[data-divider=\"top\"] {\r\n\t border-top: 1px solid;\r\n}\r\n .contextMenu-item[data-divider=\"bottom\"] {\r\n\t border-bottom: 1px solid;\r\n}\r\n .contextMenu-item[data-divider=\"top-bottom\"] {\r\n\t border-top: 1px solid;\r\n\t border-bottom: 1px solid;\r\n}\r\n .contextMenu-item[data-divider] {\r\n\t border-color: var(--item-border);\r\n}\r\n .contextMenu-button {\r\n\t color: var(--item-color);\r\n\t background: 0;\r\n\t border: 0;\r\n\t white-space: nowrap;\r\n\t width: 100%;\r\n\t border-radius: 4px;\r\n\t padding: 6px 24px 6px 7px;\r\n\t text-align: left;\r\n\t display: flex;\r\n\t align-items: center;\r\n\t font-size: 14px;\r\n\t width: 100%;\r\n\t animation: menuItemAnimation 0.2s 0s both;\r\n\t font-family: \"Inter\", sans-serif;\r\n\t cursor: pointer;\r\n}\r\n .contextMenu-button:hover {\r\n\t background-color: var(--item-bg-hover);\r\n}\r\n .contextMenu[data-theme=\"light\"] {\r\n\t --menu-bg: linear-gradient(45deg, rgba(255, 255, 255, 0.45) 0%, rgba(255, 255, 255, 0.85) 100%);\r\n\t --menu-border: rgba(0, 0, 0, 0.08);\r\n\t --item-border: rgba(0, 0, 0, 0.1);\r\n\t --item-color: #0a141c;\r\n\t --item-bg-hover: rgba(10, 20, 28, 0.09);\r\n}\r\n @keyframes menuAnimation {\r\n\t 0% {\r\n\t\t opacity: 0;\r\n\t\t transform: scale(0.5);\r\n\t}\r\n\t 100% {\r\n\t\t height: var(--height);\r\n\t\t opacity: 1;\r\n\t\t border-radius: 8px;\r\n\t\t transform: scale(1);\r\n\t}\r\n}\r\n @keyframes menuItemAnimation {\r\n\t 0% {\r\n\t\t opacity: 0;\r\n\t\t transform: translateX(-10px);\r\n\t}\r\n\t 100% {\r\n\t\t opacity: 1;\r\n\t\t transform: translateX(0);\r\n\t}\r\n}\r\n \r\n`;\r\n\r\n// Función para inyectar los estilos\r\nconst injectStyles = () => {\r\n  if (typeof document !== 'undefined') {\r\n    const styleElement = document.createElement('style');\r\n    styleElement.textContent = styles;\r\n    document.head.appendChild(styleElement);\r\n  }\r\n};\r\n\r\n// Inyectar estilos inmediatamente\r\ninjectStyles();\r\n\r\nexport { ContextMenu };\r\nexport default ContextMenu;\r\n"]}